@using RPG.Models.CharacterModal.HelperDtos
@using RPG.Models.RulebookModal.BaseTypes.Items
@model RPG.Models.CharacterModal.Character

@{ var equipedItems = Model.GetEquipedItems();}
<table background="../../Content/images/warrior.png" style="background-size: auto 100%; background-repeat:no-repeat; background-position: center; width: 100%">
    <tr>
        <td style="width:20%">&nbsp;</td>
        <td style="width:20%">&nbsp;</td>
        <td style="width:20%">&nbsp;</td>
        <td style="width:20%">&nbsp;</td>
        <td style="width:20%">&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td rowspan="2"></td>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Face})</td>
        <td rowspan="2"></td>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Head})</td>
        <td rowspan="2"></td>
    </tr><tr></tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Throat})</td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Shoulder})</td>
    </tr><tr></tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Body})</td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Torso})</td>
    </tr><tr></tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Hands})</td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Arms})</td>
    </tr>
    <tr></tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.WeaponHand})</td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.WeaponHand,SkipFirst = true})</td>
    </tr>
    <tr></tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Waist})</td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Ring})</td>
    </tr>
    <tr></tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Feet})</td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2"></td>
        <td rowspan="2">@Html.Partial("~/Views/Shared/Game/Partial/EquipedItem.cshtml",new EquipedItemViewDto{CharacterId = Model.ID,Item = equipedItems,Slot = ItemSlotRequirement.Ring, SkipFirst=true})</td>
    </tr>
    <tr></tr>
</table>

<div id="equipItemModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Equip item.</h4>
            </div>
            <div class="modal-body">
                <input style="visibility: hidden" type="checkbox" id="payForItem" name="payForItem" value="payForItem"/>
                <p>Select items to equip.</p>
                <select id="equipItemSelector" class="equipItemSelector form-control" style="width:100%">
                    @foreach (var item in Model.GetBagItems())
                    {
                        <option value="@item.Id" selected="selected">@item.Name</option>    
                    }
                    
                </select>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="EquipItem($('#equipItemSelector option:selected').val(),'@Html.Raw(Model.ID)')">Equip</button>
            </div>
        </div>
    </div>
</div>